(this.webpackJsonpart_collector_react=this.webpackJsonpart_collector_react||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),c=n.n(r),s=n(5),u=n.n(s);var l=function(){return c.a.createElement("div",{id:"loading"},c.a.createElement("h2",{className:"message"},"Searching..."))},i=n(1),o=n.n(i),p=n(2),f="https://api.harvardartmuseums.org",m="apikey=9249c3cf-6bb5-4274-b30c-c56f85f57a0a";function h(e){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function b(e){return d.apply(this,arguments)}function d(){return(d=Object(p.a)(o.a.mark((function e(t){var n,a,r,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.century,a=t.classification,r=t.queryString,c="".concat(f,"/object?").concat(m,"&classification=").concat(a,"&century=").concat(n,"&keyword=").concat(r),e.prev=2,e.next=5,fetch(c);case 5:return s=e.sent,e.next=8,s.json();case 8:return u=e.sent,e.abrupt("return",u);case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function y(){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("centuries")){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("centuries")));case 2:return t="".concat(f,"/century?").concat(m,"&size=100&sort=temporalorder"),e.prev=3,e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:return a=e.sent,r=a.records,localStorage.setItem("centuries",JSON.stringify(r)),e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function g(){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("classifications")){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("classifications")));case 2:return t="".concat(f,"/classification?").concat(m,"&size=100&sort=name"),e.prev=3,e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:return a=e.sent,r=a.records,localStorage.setItem("classifications",JSON.stringify(r)),e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}var j=function(e){var t=e.setSearchResults,n=e.setFeaturedResult,a=e.setIsLoading,r=e.searchResults,s=r.info,u=r.records;function l(e){return i.apply(this,arguments)}function i(){return(i=Object(p.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,h(n);case 4:r=e.sent,t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}return c.a.createElement("aside",{id:"preview"},c.a.createElement("header",{className:"pagination"},c.a.createElement("button",{disabled:!s.prev,className:"previous",onClick:function(){return l(s.prev)}},"Previous"),c.a.createElement("button",{disabled:!s.next,className:"next",onClick:function(){return l(s.next)}},"Next")),c.a.createElement("section",{className:"results"},u.map((function(e,t){return c.a.createElement("div",{key:t,className:"object-preview",onClick:function(t){t.preventDefault(),n(e)}},e.primaryimageurl?c.a.createElement("img",{src:e.primaryimageurl,alt:e.description}):null,e.title?c.a.createElement("h3",null,e.title):c.a.createElement("h3",null,"MISSING INFO"))}))))},O=function(e){var t=e.setIsLoading,n=e.setSearchResults,s=Object(r.useState)([]),u=Object(a.a)(s,2),l=u[0],i=u[1],f=Object(r.useState)([]),m=Object(a.a)(f,2),h=m[0],v=m[1],d=Object(r.useState)(""),E=Object(a.a)(d,2),S=E[0],j=E[1],O=Object(r.useState)("any"),x=Object(a.a)(O,2),w=x[0],k=x[1],N=Object(r.useState)("any"),I=Object(a.a)(N,2),C=I[0],R=I[1];return Object(r.useEffect)((function(){Promise.all([y(),g()]).then((function(e){var t=e[0],n=e[1];i(t),v(n)})).catch((function(){console.log("error")}))}),[]),c.a.createElement("form",{id:"search",onSubmit:function(){var e=Object(p.a)(o.a.mark((function e(a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t(!0),e.prev=2,e.next=5,b({century:w,classification:C,queryString:S});case 5:r=e.sent,n(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return e.prev=12,t(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"keywords"},"Query"),c.a.createElement("input",{id:"keywords",type:"text",placeholder:"enter keywords...",value:S,onChange:function(e){return j(e.target.value)}})),c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"select-classification"},"Classification ",c.a.createElement("span",{className:"classification-count"},"(",h.length,")")),c.a.createElement("select",{name:"classification",id:"select-classification",value:C,onChange:function(e){return R(e.target.value)}},c.a.createElement("option",{value:"any"},"Any"),(function(e){return Map.classificationList}),"return ",c.a.createElement("option",null))),c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"select-century"},"Century ",c.a.createElement("span",{className:"century-count"},"(",l.length,")")),c.a.createElement("select",{name:"century",id:"select-century",value:w,onChange:function(e){return k(e.target.value)}},c.a.createElement("option",{value:"any"},"Any"),(function(e){return Map.centuryList}),"return ",c.a.createElement("option",null))),c.a.createElement("button",null,"SEARCH"))};var x=function(){return c.a.createElement("div",{id:"title"},c.a.createElement("h1",null,"The Art Collector"),c.a.createElement("h5",null,"Search the Harvard Art Museums' Private Collections"))},w=function(){var e=Object(r.useState)({info:{},records:[]}),t=Object(a.a)(e,2),n=t[0],s=t[1],u=Object(r.useState)(null),i=Object(a.a)(u,2),o=(i[0],i[1],Object(r.useState)(!1)),p=Object(a.a)(o,2),f=p[0],m=p[1];return c.a.createElement("div",{className:"app"},c.a.createElement(x,null),c.a.createElement(O,{setIsLoading:m,setSearchResults:s}),c.a.createElement(j,{searchResults:n,setIsLoading:m,setSearchResults:s}),f?c.a.createElement(l,null):null)};u.a.render(c.a.createElement(w,null),document.getElementById("app"))},6:function(e,t,n){e.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.fa36bbd3.chunk.js.map